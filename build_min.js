'use strict';function _classCallCheck(c,d){if(!(c instanceof d))throw new TypeError('Cannot call a class as a function')}(function(c){function d(f){if(e[f])return e[f].exports;var g=e[f]={i:f,l:!1,exports:{}};return c[f].call(g.exports,g,g.exports,d),g.l=!0,g.exports}var e={};return d.m=c,d.c=e,d.i=function(f){return f},d.d=function(f,g,h){d.o(f,g)||Object.defineProperty(f,g,{configurable:!1,enumerable:!0,get:h})},d.n=function(f){var g=f&&f.__esModule?function(){return f['default']}:function(){return f};return d.d(g,'a',g),g},d.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},d.p='',d(d.s=2)})([function(c){function e(h,l){var n=[];if(!Array.isArray(h)&&!Array.isArray(l))return h*l;if(Array.isArray(h)&&!Array.isArray(l))h.forEach(function(p){Array.isArray(p)?n.push(e(p,l)):n.push(p*l)});else{if(!Array.isArray(h)&&Array.isArray(l))return e(l,h);if(Array.isArray(h[0])&&!Array.isArray(l[0])){if(h[0].length===l.length)h.forEach(function(p){n.push(e(p,l))});else if(h.length===l.length){var o=0;h.forEach(function(p){n.push(e(p,l[o++]))})}else throw new Error('Uneven size!');}else if(Array.isArray(h[0]&&Array.isArray(l[0]))){if(h.length===l.length)for(var o=0;o<h.length;o++)n.push(e(h[o],l[o]));else throw new Error('Uneven Size');}else if(h.length===l.length)for(var o=0;o<h.length;o++)n.push(h[o]*l[o]);else throw new Error('Uneven Size')}return n}function f(h,l){var n=0,o;if(!Array.isArray(h)&&!Array.isArray(l))return h+l;if(!l)Array.isArray(h[n])?(o=[],h.forEach(function(p){Array.isArray(p)&&o.push(f(p))})):(o=0,h.forEach(function(p){o+=p}));else if(h.length===l.length)for(o=[],n=0;n<h.length;n++)o[n]=h[n]+l[n];else throw new Error('Uneven Size!');return o}var g=function(){function h(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,h),this.array=n,this.shape=0<l.length?l:this.calc_shape(this.array),this.size=this.calc_size(this.shape),this.dim=this.find_dim(),this.flat=[],h.flatten(this.array,this.flat)}return h.array=function array(l){return new h([],l)},h.zeroes=function zeroes(l){var n;if(1==l.length)n=h.fill(l[0],0);else for(var o=h.fill(l[l.length-1],0),p=l.length-2;0<=p;p--){n=[];for(var q=0;q<l[p];q++)n.push(o);o=n}return new h(l,n)},h.add=function add(l,n){if(l.size===n.size){for(var o=[],p=0;p<l.flat.length;p++)o[p]=l.flat[p]+n.flat[p];var q=new h(l.shape);return q.arrange(o),q}return new Error('Unequal Size')},h.flatten=function flatten(l,n){for(var p=l,q=Array.isArray(p),r=0,p=q?p:p[Symbol.iterator]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{if(r=p.next(),r.done)break;s=r.value}var o=s;Array.isArray(o)?this.flatten(o,n):n.push(o)}},h.fill=function fill(l){for(var u=arguments.length,n=Array(1<u?u-1:0),A=1;A<u;A++)n[A-1]=arguments[A];var p,o=[];if(!n||0===n.length)for(p=0;p<l;p++)o[p]=Math.random();else if(1!==n.length){var r,s=r=n[0],t=n[1];for(p=0;p<l;p++)o[p]=s++,s>t&&(s=r)}else if(Array.isArray(n[0])){var q=0;for(p=0;p<l;p++)o[p]=n[0][q++],q>=n[0].length&&(q=0)}else for(p=0;p<l;p++)o[p]=n[0];return o},h.prototype.find_dim=function find_dim(){return this.shape.length},h.prototype.calc_shape=function calc_shape(l){for(var n=[l.length],o=l[0];Array.isArray(o);)n.push(o.length),o=o[0];return n},h.prototype.calc_size=function calc_size(l){for(var n=1,p=l,q=Array.isArray(p),r=0,p=q?p:p[Symbol.iterator]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{if(r=p.next(),r.done)break;s=r.value}var o=s;n*=o}return n},h.prototype.arrange=function arrange(l){var n=this.dim,o=this.shape[n-1],p=[],q=1,r=0;2<=n&&(q=this.shape[n-2]);for(var s=0;s<q;s++)if(l){for(var t=[],u=0;u<o;u++)t[u]=l[r++],r>=l.length&&(r=0);p.push(h.fill(o,t))}else p.push(h.fill(o));this.array=p,this.flat=[],h.flatten(this.array,this.flat)},h.prototype.reshape=function reshape(l){if(this.calc_size(l)===this.size){var n=this.flat;this.shape=l,this.dim=this.find_dim(),this.flat=[],this.arrange(n)}else return new Error('Resizing error : can\'t change the size')},h.prototype.resize=function resize(l){var n=this.flat;this.shape=l,this.size=this.calc_size(this.shape),this.dim=this.find_dim(),this.flat=[],this.arrange(n)},h.prototype.transpose=function transpose(){},h}();c.exports={sum:f,product:e,Vector:g}},function(c,d,e){var f=e(10),g=e(6),h=e(3),l=e(0),n=function(){function o(p){_classCallCheck(this,o),this.net_config=p,this.lyrs_count=p.length,this.weights=[],this.biases=[];for(var q=1;q<this.lyrs_count;q++)this.weights.push(f.lyr(this.net_config[q],this.net_config[q-1])),this.biases.push(f.lyr(this.net_config[q]))}return o.prototype.fit=function fit(p,q){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0.5,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:10,t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2,u=5<arguments.length&&void 0!==arguments[5]?arguments[5]:g.cross_entropy,A=6<arguments.length&&void 0!==arguments[6]?arguments[6]:h.sigmoid;this.input=p,this.labels=q,this.activ_fn=A,this.cost_fn=u,this.SGD(r,s,t,u)},o.prototype.feed_forward=function feed_forward(p,q){var r=[],s=[];r.push(p);for(var t=1;t<this.lyrs_count;t++){var u=f.weighted_input(this.weights[t-1].array,r[t-1],this.biases[t-1].array),A=q(u);r.push(A),s.push(u)}return[r,s]},o.prototype.SGD=function SGD(p,q,r){for(var u,A,B,C,_net_util$shuffle,t=-(p/r);q;){_net_util$shuffle=f.shuffle(this.input,r,this.labels),x=_net_util$shuffle[0],y=_net_util$shuffle[1];for(var _backprop,D=0;D<r;D++){_backprop=this.backprop(u[D],A[D]),delta_w=_backprop[0],delta_b=_backprop[1];for(var E=1;E<this.lyrs_count;E++)B[E-1].arrange(l.product(B[E-1].flat,t)),C[E-1].arrange(l.product(C[E-1].flat,t));for(var F=1;F<this.lyrs_count;F++)this.weights[F-1].arrange(l.Vector.add(this.weights[F-1],B[F-1]).flat),this.biases[F-1].arrange(l.Vector.add(this.biases[F-1],C[F-1]).flat)}q--}},o.prototype.backprop=function backprop(p,q){for(var r=[],s=[],G=1;G<this.lyrs_count;G++)r.push(l.Vector.zeroes(this.weights[G-1].shape)),s.push(l.Vector.zeroes(this.biases[G-1].shape));var t=[],u=[],A=[],_feed_forward=this.feed_forward(p,this.activ_fn);a=_feed_forward[0],z=_feed_forward[1];var B=f.cost_grad(t[this.lyrs_count-1],q),H=u[this.lyrs_count-1].map(function(L){return f.sigma_dash(L)});A[this.lyrs_count-2]=l.product(H,B);for(var I=this.lyrs_count-2;1<=I;I--){var C=1<A[I].length?A[I]:A[I][0],D=l.product(this.weights[I-1].array,C),J=u[I-1].map(function(L){return sigma_dash(L)});A[I-1]=l.product(D,J)}for(var K=1;K<this.lyrs_count;K++){var F=[];l.Vector.flatten(l.product(t[K-1],A[K-1]),arr),l.Vector.flatten(A[K-1],F),r[K-1].arrange([]),s[K-1].arrange(F)}return[r,s]},o.prototype.predict=function predict(p){var q=this.feed_forward(p);return q[q.length-1]},o.prototype.evaluate=function evaluate(p,q){return l.sum(q,-1*predictions)},o}();c.exports=n},function(c,d,e){Network=e(1);var f={Network:Network};c.exports=f},function(c,d,e){var f=e(4),g=e(5);c.exports={sigmoid:f,softmax:g}},function(c){c.exports=function(f){if(!Array.isArray(f))return 1+Math.exp(-f);var g=[];return f.forEach(function(h){g.push(1/(1+Math.exp(-h)))}),g}},function(c){c.exports=function(){}},function(c,d,e){var f=e(9),g=e(7),h=e(8);c.exports={quad_cost:f,cross_entropy:g,log_like:h}},function(){},function(){},function(){},function(c,d,e){function g(r){if(!Array.isArray(r))return 1+Math.exp(-r);var s=r.map(function(t){return 1/(1+Math.exp(-t))});return s}var p=e(0);c.exports={lyr:function(r,s){var t,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return s?1===u?(t=new p.Vector([r,s]),t.arrange()):t=p.Vector.zeroes([r,s]):1===u?(t=new p.Vector([r]),t.array=p.Vector.fill(r)):t=p.Vector.zeroes([r]),t},sigma_dash:function(r){return g(r)*(1-g(r))},sigmoid_function:g,weighted_input:function(r,s,t){var u=p.product(r,s),A=[];p.Vector.flatten(t,A);var B=p.sum(p.sum(u),A);return B},cost_grad:function(r,s){for(var t=0;t<s.length;t++)s[t]=-s[t];var u=p.sum(r,s);return u},shuffle:function(r,s,t){for(var B,u=[],A=[];u.length<=s;)B=Math.floor(Math.random()*r.length),u.push(r[B]),A.push(t[B]);return[u,A]}}}]);